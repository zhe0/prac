to gen call graph,

''' sol 1 '''
import os
import subprocess
def run_pyan_on_directory(directory):
    # Run pyan on all .py files in the directory
    python_files = [f for f in os.listdir(directory) if f.endswith('.py')]
    if python_files:
        output_file = os.path.join(directory, 'call_graph.dot')
        command = ['pyan'] + [os.path.join(directory, f) for f in python_files] + ['--dot', '-o', output_file]
        subprocess.run(command)
        print(f"Generated call graph for {directory}")

def traverse_directories(root_dir):
    for dirpath, dirnames, filenames in os.walk(root_dir):
        run_pyan_on_directory(dirpath)

# Usage
traverse_directories('/path/to/your/project')



''' sol 2 '''
import os
import subprocess
def run_pyreverse(directory):
    # Change to the directory
    os.chdir(directory)
    
    # Run pyreverse and generate the call graph
    subprocess.run(["pyreverse", "-o", "png", "-p", os.path.basename(directory), "."])
    
    # Change back to the parent directory
    os.chdir("..")

def generate_call_graphs(root_directory):
    for dirpath, dirnames, filenames in os.walk(root_directory):
        # Check if there are any .py files in this directory
        if any(filename.endswith('.py') for filename in filenames):
            print(f"Generating call graph for: {dirpath}")
            run_pyreverse(dirpath)

# Use the current directory as the root
root_dir = "."
generate_call_graphs(root_dir)


groc_keys
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
https://colab.research.google.com/gist/zhe0/15bb673420cf4d2f5324ad3053dbd4cd/ollama_on_colab_inf.ipynb
